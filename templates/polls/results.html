{% extends 'base.html' %}
{% block content %}

<script src="path/to/chartjs/dist/Chart.js"></script>
<script src="https://cdn.zingchart.com/zingchart.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<h1 class="mb-5 text-center">{{ question.question_text }}</h1>

<ul class="list-group mb-5">
  {% for choice in question.choice_set.all %}
  <li class="list-group-item">
    {{ choice.choice_text }}
    <span class="badge badge-success float-right">{{ choice.votes }} vote{{ choice.votes | pluralize }}</span>
  </li>
  {% endfor %}
</ul>

<!-- <canvas id="myChart" width="400" height="400"></canvas> -->

<!-- Chart Placement[2] -->
<div id="myChart"></div>

<a class="btn btn-secondary" href="{% url 'polls:index' %}">Back To Polls</a>
<a class="btn btn-dark" href="{% url 'polls:detail' question.id %}">Vote again?</a>

<script>

  var objId = "{{question.id}}"

  var dataURL = '/'
  $.ajax({
    method: 'GET',
    url: dataURL,
    success: function (response) {
      console.log('RESPONSE:', response)
    }
  })

  function buildChart() {
    var chartData = {
      "type": "bar",
      "scale-x": {
        "values": [
          "Amos",
          "Andrew",
          "Ivy",
          "Ninette",
          "Peter"
        ]
      },
      "series": [
        {
          "values": [
            35,
            33,
            27,
            33,
            29
          ]
        }
      ]
    }
  }

  // Render Method[3]
  zingchart.render({
    id: 'myChart',
    data: chartData,
  });

</script>
<!--
<script>
  var ctx = document.getElementById('myChart').getContext('2d');
  var myChart = new Chart(ctx, {
    type: 'bar',
    data: {
      labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
      datasets: [{
        label: '# of Votes',
        data: [12, 19, 3, 5, 2, 3],
        backgroundColor: [
          'rgba(255, 99, 132, 0.2)',
          'rgba(54, 162, 235, 0.2)',
          'rgba(255, 206, 86, 0.2)',
          'rgba(75, 192, 192, 0.2)',
          'rgba(153, 102, 255, 0.2)',
          'rgba(255, 159, 64, 0.2)'
        ],
        borderColor: [
          'rgba(255, 99, 132, 1)',
          'rgba(54, 162, 235, 1)',
          'rgba(255, 206, 86, 1)',
          'rgba(75, 192, 192, 1)',
          'rgba(153, 102, 255, 1)',
          'rgba(255, 159, 64, 1)'
        ],
        borderWidth: 1
      }]
    },
    options: {
      scales: {
        yAxes: [{
          ticks: {
            beginAtZero: true
          }
        }]
      }
    }
  });
-->

</script>


{% endblock %}